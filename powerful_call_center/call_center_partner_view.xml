<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
        <record id="act_res_partner_2_call_center" model="ir.actions.act_window">
            <field name="name">Customer Services</field>
            <field name="res_model">call.center</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('partner_id','=', active_id)]</field>
            <field name="context">{'search_default_partner_id': active_id}</field>
        </record>

		<record model="ir.ui.view" id="res_partner_call_inherit">
			<field name="name">Call Center Partner</field>
		    <field name="model">res.partner</field>
		    <field name="inherit_id" ref="base.view_partner_form" />
            <field name="groups_id" eval="[(6, 0,[ref('powerful_call_center.group_user')])]"/>
		    <field name="arch" type="xml">
		    	<data>
                    <xpath expr="//div[@name='buttons']" position="inside">
                        <button class="oe_inline oe_stat_button" type="action"
                            attrs="{'invisible': [('customer', '=', False)]}"
                            name="%(powerful_call_center.act_res_partner_2_call_center)d"
                            icon="fa-phone" 
	                        context="{'default_partner_id': active_id}">
                            <field string="Services" name="services_count" widget="statinfo"/>
                        </button>
                    </xpath>
			        <page name='sales_purchases' position="attributes">
			            <attribute name="invisible">1</attribute>
			        </page>
			        <label string='Address' position="attributes">
			            <attribute name="invisible">1</attribute>
			        </label>
                    <xpath expr="//field[@name='website']" position="after">
						<field name="civil_number" style="width: 252px;"/>
						<field name="file_number" />
                    </xpath>
                    <xpath expr="//field[@name='mobile']" position="after">
						<field name="marketer_id" widget="selection"/>
                    </xpath>
                    <xpath expr="//label[1]" position="replace">
                    </xpath>
                    <xpath expr="//label[@string='Is a Company?']" position="replace">
                    </xpath>
			        <field name='is_company' position="attributes">
			            <attribute name="invisible">1</attribute>
			        </field>
			        <field name='mobile' position="attributes">
			            <attribute name="required">1</attribute>
			        </field>
			        <field name='parent_id' position="attributes">
			            <attribute name="invisible">1</attribute>
			        </field>
			        <field name='category_id' position="attributes">
			            <attribute name="invisible">1</attribute>
			        </field>
			        <field name='email' position="attributes">
			            <attribute name="invisible">1</attribute>
			        </field>
			        <field name='website' position="attributes">
			            <attribute name="invisible">1</attribute>
			        </field>
			        <field name='function' position="attributes">
			            <attribute name="invisible">1</attribute>
			        </field>
			        <field name='fax' position="attributes">
			            <attribute name="invisible">1</attribute>
			        </field>
			        <field name='title' position="attributes">
			            <attribute name="invisible">1</attribute>
			        </field>
			        <field name='street2' position="attributes">
			            <attribute name="invisible">1</attribute>
			        </field>
			        <field name='street' position="attributes">
			            <attribute name="invisible">1</attribute>
			        </field>
			        <field name='city' position="attributes">
			            <attribute name="invisible">1</attribute>
			        </field>
			        <field name='state_id' position="attributes">
			            <attribute name="invisible">1</attribute>
			        </field>
			        <field name='zip' position="attributes">
			            <attribute name="invisible">1</attribute>
			        </field>
			        <field name='country_id' position="attributes">
			            <attribute name="invisible">1</attribute>
			        </field>
		    	</data>
			</field>
	    </record>
		<record model="ir.ui.view" id="res_partner_call_inherit2">
			<field name="name">Call Center Partner</field>
		    <field name="model">res.partner</field>
		    <field name="inherit_id" ref="tmas_partner_id.tmas_partner_id_inherit_form" />
            <field name="groups_id" eval="[(6, 0,[ref('powerful_call_center.group_user')])]"/>
		    <field name="arch" type="xml">
		    	<data>
			        <field name='partner_number' position="attributes">
			            <attribute name="invisible">1</attribute>
			        </field>
		    	</data>
			</field>
	    </record>

		<record model="ir.ui.view" id="res_partner_call_inherit3">
			<field name="name">Call Center Partner</field>
		    <field name="model">res.partner</field>
		    <field name="inherit_id" ref="birthday_wish.view_partner_form_bithdate" />
            <field name="groups_id" eval="[(6, 0,[ref('powerful_call_center.group_user')])]"/>
		    <field name="arch" type="xml">
		    	<data>
			        <field name='birth_date' position="attributes">
			            <attribute name="invisible">1</attribute>
			        </field>
		    	</data>
			</field>
	    </record>

		<record model="ir.ui.view" id="res_partner_call_inherit4">
			<field name="name">Call Center Partner</field>
		    <field name="model">res.partner</field>
		    <field name="inherit_id" ref="tmas_arabic_module.view_arabic_name_partner_form" />
            <field name="groups_id" eval="[(6, 0,[ref('powerful_call_center.group_user')])]"/>
		    <field name="arch" type="xml">
		    	<data>
			        <field name='name' position="attributes">
			            <attribute name="placeholder">Name</attribute>
			        </field>
			        <field name='arabic_name_partner' position="attributes">
			            <attribute name="placeholder">Title</attribute>
			        </field>
		    	</data>
			</field>
	    </record>

	    <record model="ir.ui.view" id="view_call_center_partner_tree">
	        <field name="name">call.center.partner.tree</field>
	        <field name="model">res.partner</field>
	        <field name="inherit_id" ref="base.view_partner_tree" />
	        <field name="type">tree</field>
            <field name="groups_id" eval="[(6, 0,[ref('powerful_call_center.group_user')])]"/>
	        <field name="arch" type="xml">
	          <data>
                <xpath expr="//tree[@string='Contacts']" position="attributes">
                    <attribute name="delete">false</attribute>
                </xpath>
                <xpath expr="//field[@name='phone']" position="replace">
	                <field name="mobile"/>
	                <field name="civil_number"/>
	                <field name="file_number"/>
	            </xpath>
                <xpath expr="//field[@name='email']" position="replace">
	                <field name="marketer_id"/>
	            </xpath>
	          </data>       
	        </field>
	    </record>

	    <record model="ir.ui.view" id="view_call_center_partner_search">
	        <field name="name">call.center.partner.search</field>
	        <field name="model">res.partner</field>
	        <field name="inherit_id" ref="base.view_res_partner_filter" />
            <field name="groups_id" eval="[(6, 0,[ref('powerful_call_center.group_user')])]"/>
	        <field name="arch" type="xml">
	          <data>
                <xpath expr="//field[@name='name']" position="after">
	                <field name="mobile"/>
	                <field name="phone"/>
	                <field name="civil_number"/>
	                <field name="file_number"/>
	            </xpath>
                <xpath expr="//field[@name='category_id']" position="replace">
	            </xpath>
                <xpath expr="//field[@name='user_id']" position="replace">
	            </xpath>
                <xpath expr="//field[@name='parent_id']" position="replace">
	            </xpath>
	          </data>       
	        </field>
	    </record>

		<record id="action_call_center_partner" model="ir.actions.act_window">
			<field name="name">Call Center Partner</field>
			<field name="res_model">res.partner</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>     
			<field name="view_id" ref="base.view_partner_tree"/>
            <field name="domain">[('is_call_center_partner','=',True),('customer','=',True)]</field>
            <field name="context">{'default_is_call_center_partner':1}</field>
		</record>

		<menuitem id="main_call_center" name="Call Center" groups="powerful_call_center.group_user"/>
		<menuitem name="Call Center" id="menu_call_center_sub" parent="main_call_center"/>
		<menuitem name="Customer" id="menu_open_call_center_partner_form" action="action_call_center_partner" parent="menu_call_center_sub"/>

	</data>
</openerp>		       